services:
  redis:
    image: 'redis:alpine'
    ports:
      - '${FORWARD_REDIS_PORT:-6379}:6379'
    volumes:
      - 'adonis-redis:/data'
    networks:
      - adonis
    healthcheck:
      test:
        - CMD
        - redis-cli
        - ping
      retries: 3
      timeout: 5s
networks:
  adonis:
    driver: bridge
volumes:
  adonis-redis:
    driver: local
